



<div ngClass="cart-container">
    <div>
        <div ngClass="cart-panel">
            <div ngClass="cart-item" *ngFor="let item of items">
                <img src="{{ item.url }}">
                <div ngClass="cart-item-details">
                    <h1> {{ item.name }}</h1>
                    <h5>$ {{ item.price }}</h5>
                    <div style="display: flex;">
                        <label style="margin-right: 10px;">Amount: </label>
                        <input type="number" (ngModelChange)="CoutChange(item, $event)" 
                        ngClass="number-input" name="count" id="count" [ngModel]="item.count">
                        <button class="btn btn-danger ms-4" (click)="DeleteItem(item)" >Delete Item</button>
                    </div>                  
                </div>
            </div>
        </div>
        <h1 style="margin-top: 40px;">Total : ${{ total.toPrecision(5) }}</h1>
    </div>
    <div>
        <form #form="ngForm" ngClass=".form-margin" (ngSubmit)="onSubmit()">
            <div class="mb-3">
              <label for="fullName" class="form-label">Full Name</label>
              <input type="text" class="form-control" name="fullName" [(ngModel)]="fullName" required minlength="3"
                id="fullName" placeholder="(Minimum 3 characters)" #name="ngModel">
            </div>
            <div *ngIf="name.invalid && name.dirty">
                <div *ngIf="name?.errors!['required']" class="invalid">
                  Please provide a full name.
                </div>
                <div *ngIf="name.errors!['minlength']" class="invalid">
                  The full name must contain at least 3 characters.
                </div>
            </div>
            <div class="mb-3">
              <label for="address" class="form-label">Address</label>
              <input type="text" class="form-control" name="address" [(ngModel)]="address" id="address"  required minlength="6"
                placeholder="(Minimum 6 characters)" #theAddress="ngModel"> 
            </div>
            <div *ngIf="theAddress.invalid && theAddress.dirty">
                <div *ngIf="theAddress?.errors!['required']" class="invalid">
                  Please provide an address.
                </div>
                <div *ngIf="theAddress.errors!['minlength']" class="invalid">
                  The address must contain at least 6 characters.
                </div>
            </div>                   
            <div class="mb-3">
                <label for="cardNumber" class="form-label">Credit Card Number</label>
                <input type="text" pattern="[0-9]+"  name="cardNumber" class="form-control" [(ngModel)]="cardNumber"  required minlength="16"
                    id="cardNumber" placeholder="(16-Digit Number)" maxlength="16" #thecardNumber="ngModel">
                <div id="cardNumber" class="form-text">We'll never share your payment details with anyone else.</div>
              </div>
              <div *ngIf="thecardNumber.invalid && thecardNumber.dirty">
                <div *ngIf="thecardNumber?.errors!['required']" class="invalid">
                  Please provide an card Number.
                </div>
                <div *ngIf="thecardNumber.errors!['minlength'] || thecardNumber.errors!['pattern']" class="invalid">
                  The card Number must contain 16-Digit Number.
                </div>
            </div>
            <button type="submit" class="btn btn-primary" [disabled]="form.invalid">Submit</button>
          </form>
    </div>
</div>